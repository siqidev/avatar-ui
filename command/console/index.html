<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data: blob: https:; media-src 'self' data: blob: https:; connect-src 'self' http://localhost:* http://127.0.0.1:* https: ws: wss:;"
    />
    <title>SPECTRA Command</title>
    <link rel="stylesheet" href="./style.css" />
    <link rel="stylesheet" href="./node_modules/xterm/css/xterm.css" />
  </head>
  <body>
    <!-- 画面全体をまとめるコンテナ -->
    <main class="app split">
      <!-- 会話ログの表示領域 -->
      <section data-slot="output" id="pane-output">
        <div class="surface-host" id="surface-host">
          <div class="surface surface--text">
            <div class="text-scroll" id="output"></div>
          </div>
          <!-- 端末表示用の領域 -->
          <div class="surface surface--terminal" id="terminal-surface">
            <div class="terminal-host" id="terminal-host"></div>
          </div>
        </div>
      </section>

      <!-- 入力欄 -->
      <footer data-slot="input" id="pane-input">
        <span class="prompt">&gt;</span>
        <input type="text" id="input" autofocus />
        <div class="command-palette is-hidden" id="command-palette"></div>
      </footer>

      <!-- アバター表示 -->
      <aside data-slot="avatar" id="pane-avatar">
        <div id="avatar-wrap">
          <img
            id="avatar-img"
            src="./assets/idle.png"
            data-idle="./assets/idle.png"
            data-talk="./assets/talk.png"
            alt="avatar"
          />
        </div>
        <div id="avatar-label" class="avatar-label">SPECTRA</div>
      </aside>

      <!-- 状態/モードの表示 -->
      <div class="meta-bar" id="meta"></div>
    </main>

    <script src="./node_modules/xterm/lib/xterm.js"></script>
    <script src="./node_modules/xterm-addon-fit/lib/xterm-addon-fit.js"></script>
    <script src="./main.js"></script>
  </body>
</html>
